## 정리 

## E22-900T22S LoRa 통신

통신 이중화 

## RF_Setting에서 configration 

## 채널 설정 / 패킷 설정 

## AT-Command 보낼 시 Configuration mode  - > M0 = 0，M1 = 1 

## Normal Mode (M0 = 0, M1 = 0):

모듈이 기본적으로 사용하는 모드

UART를 통해 데이터를 송신하면 모듈이 RF로 전송

반대로 RF로 수신된 데이터는 UART를 통해 출력

일반적인 데이터 통신에 적합

Wake-Up Mode (M0 = 1, M1 = 0):

슬립 상태의 수신 노드가 더 빨리 데이터를 수신할 수 있도록 설계된 모드

낮은 지연 시간으로 데이터를 전송하거나 수신할 수 있다

약간 더 높은 전력 소모가 발생

Power-Saving Mode (M0 = 0, M1 = 1):

수신 모드에서 전력을 최소화하기 위한 모드

주기적으로 RF 신호를 듣지만, 기본적으로 슬립 상태를 유지

데이터 전송이 필요하지 않은 상황에서 적합

Configuration Mode (M0 = 1, M1 = 1):

AT 명령을 사용하여 모듈의 설정을 구성할 때 사용

UART를 통해 명령을 보내 모듈의 채널, 주파수, 출력 전력 등의 설정을 변경할 수 있다

설정 후에는 다시 Normal Mode로 변경하여 데이터 통신을 수행해야 함

## 송수신시 주의 사항 

송수신 전 M0과 M1 확인

데이터 송수신 시 항상 M0 = 0, M1 = 0으로 설정되어 있어야 함

설정 모드(M0 = 1, M1 = 1)로 남아 있으면 통신이 불가능

송신 모듈과 수신 모듈의 설정 동기화

송신 모듈과 수신 모듈은 동일한 **채널(Channel)**과 **주소(Address)**를 공유해야 통신이 가능

통신 설정이 다르면 송신 데이터가 수신되지 않는다

설정 완료 후 Normal Mode로 복귀

AT 명령어 등을 통해 모듈을 설정한 후, 반드시 **Normal Mode(M0 = 0, M1 = 0)**로 복귀해야 통신이 가능

송신 모듈에서 UART로 데이터를 입력하면 RF로 송신

수신 모듈은 송신 모듈에서 전송한 패킷을 RF로 받아 UART를 통해 출력

패킷 구조를 이용해 데이터를 식별하고, 필요하면 추가 처리를 수행할 수 있다


