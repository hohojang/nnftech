LoRa 통신 영상 [https://vimeo.com/1055144879?share=copy#t=0]

# LoRa 통신 (USB to TTL + EBYTE E220-900T22D)

**USB to TTL 변환기와 EBYTE E220-900T22D LoRa 모듈**을 사용하여 무선 통신을 성공적으로 구현

송신부에서 **HEX 데이터를 전송**하고, 수신부에서 이를 정상적으로 수신하는 과정

[내일 진행할 사항 : 현재 USB to TTL 변환기와 LoRa모듈로 통신을 성공하였으며 ,
STM32 보드와 LoRa 모듈 및 센서들과의 통신 확인 필요]
---

##  프로젝트 개요
- **LoRa 모듈**: EBYTE E220-900T22D  
- **통신 방식**: UART (9600 bps)  
- **변환기**: USB to TTL 변환기  
- **송수신 데이터 포맷**: HEX 값 기반 데이터 패킷  

---

##  진행 과정

### 1. 하드웨어 연결
**USB to TTL 변환기**와 **E220-900T22D LoRa 모듈**을 다음과 같이 연결:

| USB to TTL 핀 | E220 LoRa 모듈 핀 |
|---------------|-------------------|
| TX            | RX                |
| RX            | TX                |
| GND           | GND               |
| VCC (5V)      | VCC (5V)          |

- **M0, M1 핀 설정:** Normal 모드로 설정  
  - M0 → GND  
  - M1 → GND  

### 2. RF 설정 (Ebyte RF 설정 프로그램)
**Ebyte RF 설정 프로그램**을 사용하여 송신부와 수신부의 RF 설정을 다음과 같이 구성:

#### **송신부 설정**
- **Baud Rate:** 9600 bps  
- **Channel:** 68  
- **Address:** 1  
- **Air Rate:** 0.3 kbps  


#### **수신부 설정**
- **Baud Rate:** 9600 bps  
- **Channel:** 68  
- **Address:** 2  
- **Air Rate:** 0.3 kbps  
---

### 3. 송신부에서 데이터 전송
송신부 PC에서 **HEX 값**을 다음과 같이 전송:
00 02 04 48 49


- **데이터 구성:**  
  - **`00`:** 패킷 헤더  
  - **`02`:** 수신부 주소  
  - **`04`:** 데이터 길이 (4바이트)  
  - **`48 49`:** ASCII로 변환하면 "HI" (Hello를 줄인 메시지)

송신부 프로그램 (**Hercules**사용):
1. **송신 모드로 전환**
2. **HEX 데이터 입력 및 전송**

---

### 4. 수신부에서 데이터 수신
수신부에서 **Hercules**을 사용하여 LoRa 모듈로부터 데이터를 수신:
- 수신된 데이터:


- **해석:**  
- **헤더(00)**, **주소(02)**, **데이터 길이(04)**, **데이터("HI")**가 정확히 수신됨

---

##  **성공적 통신 확인**
송신부에서 보낸 HEX 값이 수신부에서 정확히 수신되어 **LoRa 통신이 정상적으로 작동**하는 것을 확인

---

## 🔧 **문제 해결 과정**
- 초기 설정에서 LoRa 모듈의 RF 설정이 제대로 저장되지 않는 문제와 LoRa 송수신이 되지 않는 문제가 발생하였지만 RF 설정 후 LoRa 모듈 전원을 재부팅하여 해결
- M0, M1 핀을 GND / GND로 설정하고(0 , 0) , 송신부에서 데이터 형식을 HEX 값으로 변환하여 **통신 성공**을 확인

---

